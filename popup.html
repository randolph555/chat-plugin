<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GitHub代码分析助手</title>
  <link rel="stylesheet" href="styles/popup.css">
</head>
<body>
  <div class="popup-container">
    <header class="popup-header">
      <div class="logo">
        <svg width="24" height="24" viewBox="0 0 16 16" fill="currentColor">
          <path d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"/>
        </svg>
        <h1>代码分析助手</h1>
      </div>
    </header>

    <main class="popup-main">
      <div class="status-section">
        <div class="status-item">
          <span class="status-label">状态:</span>
          <span class="status-value" id="extension-status">检查中...</span>
        </div>
        <div class="status-item">
          <span class="status-label">当前页面:</span>
          <span class="status-value" id="current-page">未知</span>
        </div>
      </div>

      <div class="quick-actions">
        <button class="action-btn primary" id="toggle-chat">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M1 2.75C1 1.784 1.784 1 2.75 1h10.5c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0113.25 12H9.06l-2.573 2.573A1.75 1.75 0 014 13.543V12H2.75A1.75 1.75 0 011 10.25V2.75zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25H4.5a.75.75 0 01.75.75v1.543c0 .346.4.553.677.323L8.44 10.25h4.81a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25H2.75z"/>
          </svg>
          开启对话
        </button>
        
        <button class="action-btn" id="open-settings">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8 0a8.2 8.2 0 0 1 .701.031C9.444.095 9.99.645 10.16 1.29l.288 1.107c.018.066.079.158.212.224.231.114.454.243.668.386.123.082.233.09.299.071l1.103-.303c.644-.176 1.392.021 1.82.63.27.385.506.792.704 1.218.315.675.111 1.422-.364 1.891l-.814.806c-.049.048-.098.147-.088.294.016.257.016.515 0 .772-.01.147.039.246.088.294l.814.806c.475.469.679 1.216.364 1.891a7.977 7.977 0 0 1-.704 1.218c-.428.609-1.176.806-1.82.63l-1.103-.303c-.066-.019-.176-.011-.299.071a4.845 4.845 0 0 1-.668.386c-.133.066-.194.158-.212.224l-.288 1.107C9.99 15.355 9.444 15.905 8.701 15.969A8.19 8.19 0 0 1 8 16s-.59 0-.701-.031C6.556 15.905 6.01 15.355 5.84 14.71l-.288-1.107c-.018-.066-.079-.158-.212-.224a4.844 4.844 0 0 1-.668-.386c-.123-.082-.233-.09-.299-.071l-1.103.303c-.644.176-1.392-.021-1.82-.63a8.1 8.1 0 0 1-.704-1.218c-.315-.675-.111-1.422.363-1.891l.815-.806c.05-.048.098-.147.088-.294a6.214 6.214 0 0 1 0-.772c.01-.147-.038-.246-.088-.294l-.815-.806C.635 6.045.431 5.298.746 4.623a8.1 8.1 0 0 1 .704-1.217c.428-.61 1.176-.807 1.82-.631l1.103.303c.066.019.176.011.299-.071.214-.143.437-.272.668-.386.133-.066.194-.158.212-.224L5.84 1.29C6.01.645 6.556.095 7.299.03 7.53.01 7.764 0 8 0Zm-.571 1.525c-.036.003-.108.036-.137.146l-.289 1.105c-.147.561-.549.967-.998 1.189-.173.086-.34.183-.5.29-.417.278-.97.423-1.529.27l-1.103-.303c-.109-.03-.175.016-.195.045-.22.312-.412.644-.573.99-.014.031-.021.11.059.19l.815.806c.411.406.562.957.53 1.456a4.709 4.709 0 0 0 0 .582c.032.499-.119 1.05-.53 1.456l-.815.806c-.081.08-.073.159-.059.19.162.346.353.677.573.989.02.030.085.076.195.046l1.103-.303c.559-.153 1.112-.008 1.529.27.160.107.327.204.5.29.449.222.851.628.998 1.189l.289 1.105c.029.109.101.143.137.146a6.6 6.6 0 0 0 1.142 0c.036-.003.108-.036.137-.146l.289-1.105c.147-.561.549-.967.998-1.189.173-.086.34-.183.5-.29.417-.278.97-.423 1.529-.27l1.103.303c.109.029.175-.016.195-.045.22-.313.411-.644.573-.990.014-.031.021-.11-.059-.19l-.815-.806c-.411-.406-.562-.957-.53-1.456a4.709 4.709 0 0 0 0-.582c-.032-.499.119-1.05.53-1.456l.815-.806c.081-.08.073-.159.059-.19a6.464 6.464 0 0 0-.573-.989c-.02-.030-.085-.076-.195-.046l-1.103.303c-.559.153-1.112.008-1.529-.27a4.44 4.44 0 0 0-.5-.29c-.449-.222-.851-.628-.998-1.189l-.289-1.105c-.029-.11-.101-.143-.137-.146a6.6 6.6 0 0 0-1.142 0ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM9.5 8a1.5 1.5 0 1 0-3.001.001A1.5 1.5 0 0 0 9.5 8Z"/>
          </svg>
          设置
        </button>
      </div>

      <div class="info-section">
        <h3>使用说明</h3>
        <ul class="info-list">
          <li>在GitHub仓库页面点击"开启对话"</li>
          <li>使用 @ 符号引用特定文件</li>
          <li>支持上传图片进行多模态分析</li>
          <li>可在设置中配置API密钥</li>
        </ul>
      </div>

      <div class="model-status">
        <h3>模型状态</h3>
        <div class="model-list" id="model-status">
          <div class="model-item">
            <span class="model-name">OpenAI GPT-4</span>
            <span class="model-status-indicator" data-status="unconfigured">未配置</span>
          </div>
          <div class="model-item">
            <span class="model-name">Google Gemini</span>
            <span class="model-status-indicator" data-status="unconfigured">未配置</span>
          </div>
          <div class="model-item">
            <span class="model-name">Anthropic Claude</span>
            <span class="model-status-indicator" data-status="unconfigured">未配置</span>
          </div>
        </div>
      </div>
    </main>

    <footer class="popup-footer">
      <div class="version">v1.0.0</div>
      <div class="links">
        <a href="#" id="help-link">帮助</a>
        <a href="#" id="feedback-link">反馈</a>
      </div>
    </footer>
  </div>

  <script src="scripts/popup.js"></script>
</body>
</html>